<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>
    
      What to Do if Ubuntu Cannot See Partitions Due to the SSD Being in RAID Mode &middot; daniel.industries
    
  </title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  <meta name="author" content="">

  <link rel="stylesheet" href="https://unpkg.com/tailwindcss/dist/tailwind.min.css">

  <link href="https://fonts.googleapis.com/css?family=Nunito:400,700&display=swap" rel="stylesheet">

  <style>
    .quicksand {
      font-family: sans-serif;
    }

    h1, h2, h3, h4, h5, h6, header *, .heading-style {
      font-family: Nunito, sans-serif;
    }
    h1 {
      font-size: 2em;
    }
    h2 {
      font-size: 1.8em;
    }
    h3 {
      font-size: 1.6em;
    }
    h4 {
      font-size: 1.4em;
    }
    h5 {
      font-size: 1.2em;
    }
    h6 {
      font-size: 1em;
    }
    
    ::selection {
        background: yellow;
        /* WebKit/Blink Browsers */
    }
    ::-moz-selection {
        background: yellow;
        /* Gecko Browsers */
    }

    a {
      color: rgb(1 1 200 / 80%);
      cursor: pointer;
      font-weight: 400;
      text-decoration: none;
    }
    a:hover, a:focus {
      border-bottom: 1px solid rgb(1 1 200 / 80%);
    }
    a strong {
      color: inherit;
    }
    a.dead {
      color: #9ca3af;
      text-decoration: line-through;
    }
    .bg-gray-900 a {
      color: #9ca3af;
    }
    .bg-gray-900 a:hover, .bg-gray-900 a:focus {
      border-bottom: 1px solid #9ca3af;
    }
    
    .main-content p, .main-content hr, .main-content div, .main-content iframe {
      margin-bottom: 1em;    
    }
    
    .post-metadata {
      color: rgba(55,65,81,.6);
      font-size: .9em;
    }
    .bg-gray-900 .post-metadata {
      color: #9ca3af;
    }
    
    blockquote {
      border-left: 2px solid #9ca3af;
      padding-left: 1em;
    }
    
    img {
      border-radius: 5px;
    }
  </style>

</head>

<body class="bg-gray-100 text-gray-700 font-sans quicksand">
  <div class="p-6 sm:p-10 md:p-16 flex flex-wrap">
    <div class="w-full md:w-1/2 md:pr-32 order-3 md:order-1">
  <div class="max-w-md md:float-right md:text-right leading-relaxed tracking-normal md:sticky md:top-0 ">
    
      <p class="font-bold mt-9 mb-1">Previous</p>
      <ul class="flex flex-wrap justify-between flex-col">
        <li><a href="/2020/03/11/dying-for-sex-podcast/" class="text-sm">Dying for Sex Podcast</a></li>
      </ul>
    
    
      <p class="font-bold mt-4 mb-1">Next</p>
      <ul class="flex flex-wrap justify-between flex-col">
        <li><a href="/2020/03/20/buy-music-today/" class="text-sm">Buy music today</a></li>
      </ul>
    
  </div>
</div>
<div class="w-full md:w-1/2 order-1 md:order-2 main-content">
  <div class="max-w-md leading-relaxed tracking-normal">
    <h1 class="font-bold my-0 leading-10">What to Do if Ubuntu Cannot See Partitions Due to the SSD Being in RAID Mode</h1>
    <p class="mb-2 post-metadata">396 words written on <time datetime="2020-03-13T06:03:49-05:00">Fri, Mar 13 2020</time></p>

    <p>I bought a lower-end Lenovo gaming laptop about a year ago for both myself and my kids play games on, and to play around with Linux on.</p>

<p>I tried to install <a href="https://system76.com/pop">PopOS</a> on it at the time, but during the install process, the installer could not see any available partitions on the hard drive. I googled and tried troubleshooting but soon lost the plot. The children were in the process of taking over the laptop anyway.</p>

<p>Last weekend I ordered myself a Dell laptop for the explicit purpose of installing Linux on it and using it as my device. This reinvigorated my interest in getting a Linux distro installed on the Lenovo. This time I was able to discover the problem and solve it.</p>

<p>This time I went with vanilla <a href="https://ubuntu.com/desktop">Ubuntu</a>, as its installer seems to be the most automated of all Linux distributions. The installer once again failed to see any available partitions on the hard drive.</p>

<p>Google paydirt this time came by way of this askubuntu Stack Exchange post: ‚Äú<a href="https://askubuntu.com/questions/1031766/installing-ubuntu-desktop-18-04-lts-but-its-not-detecting-my-samsung-pcie-nvme">Installing Ubuntu Desktop 18.04 LTS but it‚Äôs not detecting my Samsung PCIe NVME SSD</a>‚Äù which linked to <a href="https://www.tenforums.com/drivers-hardware/15006-attn-ssd-owners-enabling-ahci-mode-after-windows-10-installation.html#post332243">this post</a> with careful instructions on how to switch a hard drive to AHCI mode without messing up the existing Windows installation.</p>

<p>So here is what I did:</p>

<ol>
  <li>In Windows, I turned on safe mode. To do so, I did not use the command prompt as described in the above post, instead, I used the config GUI by searching for <code class="language-plaintext highlighter-rouge">msconfig</code> in the Windows search box, then selected ‚ÄúSafe boot‚Äù under the ‚ÄúBoot‚Äù tab.</li>
  <li>Reboot the Lenovo and entered the BIOS settings by repeatedly pressing F2 during boot.</li>
  <li>Navigated to the storage screen and set the drive config to AHCI. The config manager displayed a dire warning that this would erase all data on the drive. It did not.</li>
  <li>Saved and rebooted back into Windows. Everything was fine. I turned off safe mode with the same technique as I had turned it on. I rebooted again. Everything was still fine.</li>
  <li>I once again booted to my Ubuntu USB and stepped through the initial screens of the installer. This time it could see the drive and partitions and the installer worked! The machine can now boot to either Windows or Ubuntu.</li>
</ol>

<p>Now to just figure out the graphics driver situation. :P</p>


  </div>
</div>
    <div class="w-full md:w-1/2 md:pr-32 pt-12 md:pt-0 md:sticky md:bottom-0 order-4 md:order-3">
      <div class="max-w-md md:float-right md:text-right leading-loose tracking-tight md:mb-16">
        <ul class="flex flex-wrap justify-between flex-row md:flex-col">
          <li><a href="/" class="nav mx-2 md:mx-0">Home</a></li>
          <li><a href="/about/" class="nav mx-2 md:mx-0">About</a></li>
          <li><a href="/music/" class="nav mx-2 md:mx-0">Music</a></li>
        </ul>
        <br style="clear:both">
<footer class="footer">
  <small><a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons licensed</a> 2001&ndash;<time datetime="2020-11-29T19:42:50-06:00">2020</time>
  </small>
</footer>

      </div>
    </div>
  </div>

  <!-- Pin to top right corner -->
  <div class="absolute top-0 right-0 h-12 w-18 p-4">
    <button class="js-change-theme focus:outline-none">üåô</button>
  </div>

  <script>
    //Toggle mode
    const toggle = document.querySelector('.js-change-theme');
    const body = document.querySelector('body');

    function toggleToDark() {
      toggle.innerHTML = "‚òÄÔ∏è";
      body.classList.remove('text-gray-700');
      body.classList.add('text-gray-300');
      body.classList.remove('bg-gray-100');
      body.classList.add('bg-gray-900');
      localStorage.setItem('theme', 'dark');
    }

    function toggleToLight() {
      toggle.innerHTML = "üåô";
      body.classList.remove('text-gray-300');
      body.classList.add('text-gray-700');
      body.classList.remove('bg-gray-900');
      body.classList.add('bg-gray-100');
      localStorage.setItem('theme', 'light');
    }

    const theme = localStorage.getItem('theme');

    if (theme == "dark") {
      toggleToDark();
    } else if (theme == "light") {
      toggleToLight();
    }

    toggle.addEventListener('click', () => {
      if (body.classList.contains('text-gray-700')) {
        toggleToDark();
      } else {
        toggleToLight();
      }
    });

  </script>

</body>

</html>