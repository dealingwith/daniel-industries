<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  {% assign hero_image = page.image %}
  {% if hero_image == nil %}
  {% assign hero_image = page.content | match_regex: '<img .*?src="([^" ]+)"' %}
  {% if hero_image == nil %}
  {% assign hero_image = "/assets/page/writing/nicole-elliott-N9De44VszLM-unsplash.png" %}
  {% endif %}
  {% endif %}
  {% unless hero_image contains site.url %}
  {% assign hero_image = hero_image | prepend: site.url %}
  {% endunless %}
  {% capture title %}
  {% if page.title %}
  {{ page.title }}
  {% else %}
  {{ site.title }}
  {% endif %}
  {% endcapture %}
  {% assign stripped_excerpt = page.excerpt | strip_html %}
  {% assign stripped_excerpt_length = stripped_excerpt | number_of_words %}
  {% capture meta_description %}
  {% if stripped_excerpt_length > 0 %}
  {{ stripped_excerpt }}
  {% else %}
  {{ site.tagline }}
  {% endif %}
  {% endcapture %}
  <title>{{ title }}</title>
  <meta name="description" content="{{ meta_description | strip }}">
  <meta property="og:title" content="{{ title | strip }}" />
  <meta property="og:description" content="{{ meta_description | strip }}" />
  <meta property="og:image" content="{{ hero_image }}" />
  <link rel="icon" href="/public/stones.png">
  <meta name="fediverse:creator" content="@dealingwith@indieweb.social" />
  <link href="/assets/reset.css" rel="stylesheet">
  {%- assign style_file = site.static_files | where: "path", "/assets/style.css" | first -%}
  <link rel="stylesheet" href="{{ "/assets/style.css" | relative_url }}?v={{ style_file.modified_time | date: "%s" }}">
  <!-- <link href="/assets/style.css" rel="stylesheet"> -->
  <link href="/assets/code.css" rel="stylesheet">
  <link rel="stylesheet" media="(prefers-color-scheme: dark)" href="/assets/code-dark.css">
  <link rel="alternate" type="application/rss+xml" title="RSS Feed for daniel.industries" href="/atom.xml" />
  <script data-goatcounter="https://daniel-industries.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
  <script>
    /*to prevent Firefox FOUC, this must be here*/
    let FF_FOUC_FIX;
  </script>
</head>